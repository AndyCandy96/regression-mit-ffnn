// === Fixierte Trainings- und Testdaten ===
const fixedDataset = {
    "clean": {
      "train": [
        {
          "x": 1.509871092152503,
          "y": -1.3634401970931491
        },
        {
          "x": 0.6770059610455572,
          "y": 0.5976762525469952
        },
        {
          "x": 1.4780350737817267,
          "y": -1.3720364270578091
        },
        {
          "x": -1.6697670316943962,
          "y": 1.7446224432914503
        },
        {
          "x": 1.2797563884869545,
          "y": -1.1013820689798988
        },
        {
          "x": 1.3727969078605806,
          "y": -1.286386707816241
        },
        {
          "x": 0.24542891586352678,
          "y": 1.0043856027290823
        },
        {
          "x": -0.4645604102759022,
          "y": 0.7309052312654111
        },
        {
          "x": 1.8086146509820922,
          "y": -0.04382419021603834
        },
        {
          "x": -1.7733276126363933,
          "y": 1.1950822367449974
        },
        {
          "x": 1.523872952058805,
          "y": -1.3536615487476023
        },
        {
          "x": 1.8025728538580341,
          "y": -0.09981331626799905
        },
        {
          "x": 0.3514815025752518,
          "y": 0.9850413706026123
        },
        {
          "x": 1.7623093586721637,
          "y": -0.4356345963446808
        },
        {
          "x": 1.1376628304882566,
          "y": -0.7041711230960783
        },
        {
          "x": 1.258814140867059,
          "y": -1.049643526410244
        },
        {
          "x": -0.43594674372789655,
          "y": 0.7285459508607026
        },
        {
          "x": 1.371660370500658,
          "y": -1.2846553043295232
        },
        {
          "x": 0.8675644775906357,
          "y": 0.12996058248662745
        },
        {
          "x": -1.8103003865903107,
          "y": 0.918099160277585
        },
        {
          "x": -0.44149142189303303,
          "y": 0.728780134343833
        },
        {
          "x": 0.02599627894347556,
          "y": 0.9326196242174285
        },
        {
          "x": 1.9520197267008115,
          "y": 1.7773362965196873
        },
        {
          "x": 0.07108585427942637,
          "y": 0.9560163561746835
        },
        {
          "x": -0.26009667558909877,
          "y": 0.7685992611561503
        },
        {
          "x": 0.11805266322697738,
          "y": 0.9766076669727355
        },
        {
          "x": 1.6227261825658807,
          "y": -1.1634488417550983
        },
        {
          "x": 1.1851069152874292,
          "y": -0.8468600832282804
        },
        {
          "x": -0.43322020484986545,
          "y": 0.7284693404164275
        },
        {
          "x": -0.7576102506170161,
          "y": 0.9405342756756875
        },
        {
          "x": -1.8762899285429784,
          "y": 0.29945414354351296
        },
        {
          "x": -0.33309038859735063,
          "y": 0.741905323079299
        },
        {
          "x": 1.9969301823729935,
          "y": 2.569417348047095
        },
        {
          "x": 0.25881336226749996,
          "y": 1.0043330800896357
        },
        {
          "x": -1.618320494323676,
          "y": 1.9122762532661772
        },
        {
          "x": -0.46181651105789445,
          "y": 0.7305537120560371
        },
        {
          "x": 1.776675797937155,
          "y": -0.3230773387032424
        },
        {
          "x": 1.6268198811677728,
          "y": -1.1504484611308308
        },
        {
          "x": 0.5703810203374369,
          "y": 0.7837372940738834
        },
        {
          "x": -1.561413759315843,
          "y": 2.0308463538901975
        },
        {
          "x": 1.5458202946789252,
          "y": -1.3304162576353211
        },
        {
          "x": 1.7692257532954812,
          "y": -0.38242785231411447
        },
        {
          "x": -1.373090757008458,
          "y": 2.0538050929252063
        },
        {
          "x": 1.6921281481845747,
          "y": -0.8789341941663129
        },
        {
          "x": -1.5673997640534112,
          "y": 2.0213575983876226
        },
        {
          "x": -1.6783399382229551,
          "y": 1.7104563079463295
        },
        {
          "x": -0.4383518175010117,
          "y": 0.7286345811307553
        },
        {
          "x": -1.2697633574202856,
          "y": 1.9108090195418233
        },
        {
          "x": 1.2113527030388211,
          "y": -0.9222321447753721
        },
        {
          "x": -0.08196769752624222,
          "y": 0.8683357472102833
        }
      ],
      "test": [
        {
          "x": 0.47172055811018065,
          "y": 0.9037336337305031
        },
        {
          "x": 0.25101276252121485,
          "y": 1.0044414568084892
        },
        {
          "x": 1.7743088904791917,
          "y": -0.3421644598857394
        },
        {
          "x": -0.6513558166489841,
          "y": 0.8235878239318045
        },
        {
          "x": 1.3009296163226969,
          "y": -1.150375785396832
        },
        {
          "x": -0.48588263082898253,
          "y": 0.7345683650171904
        },
        {
          "x": 1.5289670081043547,
          "y": -1.3491447830089904
        },
        {
          "x": 0.33499268029595,
          "y": 0.9910429858989476
        },
        {
          "x": -0.6933454736859774,
          "y": 0.8641869526115116
        },
        {
          "x": 1.8574904889543,
          "y": 0.4666804714066709
        },
        {
          "x": -1.8161593284779531,
          "y": 0.8698264764517025
        },
        {
          "x": -1.1679964513021122,
          "y": 1.716469952077262
        },
        {
          "x": 1.8809002593364483,
          "y": 0.7495744732272773
        },
        {
          "x": -0.14712214934917345,
          "y": 0.8285667860342092
        },
        {
          "x": -0.8173963169191762,
          "y": 1.0264031706061079
        },
        {
          "x": -0.07161856979771697,
          "y": 0.8747296685126114
        },
        {
          "x": -1.2566879553230712,
          "y": 1.8880525028133652
        },
        {
          "x": 1.0454485799963145,
          "y": -0.4140533210734523
        },
        {
          "x": 0.2849735504551947,
          "y": 1.0023324346622369
        },
        {
          "x": -0.030708896158772703,
          "y": 0.8997493897150982
        },
        {
          "x": 1.1842889038027073,
          "y": -0.844464442643291
        },
        {
          "x": 0.6683283143078089,
          "y": 0.6149859471515562
        },
        {
          "x": 0.44909333624981196,
          "y": 0.9243111002071303
        },
        {
          "x": -0.8992773197233292,
          "y": 1.1650000060305654
        },
        {
          "x": -0.31171181690586014,
          "y": 0.7484443322710502
        },
        {
          "x": 0.2857643644976937,
          "y": 1.002231626424342
        },
        {
          "x": -0.6338506156990071,
          "y": 0.8088520703780953
        },
        {
          "x": 1.5132427833361692,
          "y": -1.3614331017287604
        },
        {
          "x": -1.8739846372665419,
          "y": 0.3239609915454973
        },
        {
          "x": -1.7327066235101918,
          "y": 1.447876574723538
        },
        {
          "x": -0.14411132621495693,
          "y": 0.8303606372105434
        },
        {
          "x": -0.31251181491279656,
          "y": 0.7481792145680806
        },
        {
          "x": -0.8125354047539979,
          "y": 1.0189116478763804
        },
        {
          "x": -1.2513626335989372,
          "y": 1.8785543548127033
        },
        {
          "x": 1.3703507951736142,
          "y": -1.2826418393084338
        },
        {
          "x": -0.06465761430578976,
          "y": 0.8790234113059848
        },
        {
          "x": 0.20049400198520173,
          "y": 1.000083603104173
        },
        {
          "x": -1.196506772759292,
          "y": 1.7742599265363346
        },
        {
          "x": -1.3325634471225545,
          "y": 2.0066989583513615
        },
        {
          "x": 1.4940314053471764,
          "y": -1.3700095902491771
        },
        {
          "x": 0.8729485717530117,
          "y": 0.11461348020337414
        },
        {
          "x": 1.9918794111591098,
          "y": 2.474407617193908
        },
        {
          "x": -1.0892025956634463,
          "y": 1.550250102488038
        },
        {
          "x": -0.9004259811421389,
          "y": 1.1670987925552825
        },
        {
          "x": 1.4597960386343014,
          "y": -1.3690022917885347
        },
        {
          "x": 0.510443703705532,
          "y": 0.8625708998449251
        },
        {
          "x": -0.06320021613332072,
          "y": 0.8799212430148704
        },
        {
          "x": 0.504551102934431,
          "y": 0.869324737090865
        },
        {
          "x": 0.72743902223087,
          "y": 0.4897342311372136
        },
        {
          "x": -1.081872603452123,
          "y": 1.534596761858554
        }
      ]
    },
    "noisy": {
      "train": [
        {
          "x": 1.509871092152503,
          "y": -1.5868276081305372
        },
        {
          "x": 0.6770059610455572,
          "y": 0.6971061080765679
        },
        {
          "x": 1.4780350737817267,
          "y": -1.1344304231495645
        },
        {
          "x": -1.6697670316943962,
          "y": 2.178194849938828
        },
        {
          "x": 1.2797563884869545,
          "y": -0.885771852272744
        },
        {
          "x": 1.3727969078605806,
          "y": -1.3909373389460482
        },
        {
          "x": 0.24542891586352678,
          "y": 1.2965159078663167
        },
        {
          "x": -0.4645604102759022,
          "y": 0.554483192173722
        },
        {
          "x": 1.8086146509820922,
          "y": -0.12035279370594863
        },
        {
          "x": -1.7733276126363933,
          "y": 1.242127779076334
        },
        {
          "x": 1.523872952058805,
          "y": -1.1886067744340925
        },
        {
          "x": 1.8025728538580341,
          "y": 0.011516339410331727
        },
        {
          "x": 0.3514815025752518,
          "y": 0.9252114982924833
        },
        {
          "x": 1.7623093586721637,
          "y": -0.5257635988590869
        },
        {
          "x": 1.1376628304882566,
          "y": -0.7748872181959121
        },
        {
          "x": 1.258814140867059,
          "y": -0.9472646681613668
        },
        {
          "x": -0.43594674372789655,
          "y": 0.5660645940575404
        },
        {
          "x": 1.371660370500658,
          "y": -1.3842245256561363
        },
        {
          "x": 0.8675644775906357,
          "y": 0.09519887238610122
        },
        {
          "x": -1.8103003865903107,
          "y": 0.8359929901412974
        },
        {
          "x": -0.44149142189303303,
          "y": 0.4311142537146849
        },
        {
          "x": 0.02599627894347556,
          "y": 1.3240410597804444
        },
        {
          "x": 1.9520197267008115,
          "y": 1.8381723461648152
        },
        {
          "x": 0.07108585427942637,
          "y": 1.1132482505143875
        },
        {
          "x": -0.26009667558909877,
          "y": 0.291508016225237
        },
        {
          "x": 0.11805266322697738,
          "y": 0.8502968136406485
        },
        {
          "x": 1.6227261825658807,
          "y": -1.2683062096926083
        },
        {
          "x": 1.1851069152874292,
          "y": -0.6147378249061256
        },
        {
          "x": -0.43322020484986545,
          "y": 0.7551653899223766
        },
        {
          "x": -0.7576102506170161,
          "y": 0.8406500188411385
        },
        {
          "x": -1.8762899285429784,
          "y": 0.3309144919742249
        },
        {
          "x": -0.33309038859735063,
          "y": 0.5333952407206639
        },
        {
          "x": 1.9969301823729935,
          "y": 3.0128526840554373
        },
        {
          "x": 0.25881336226749996,
          "y": 0.816523294429842
        },
        {
          "x": -1.618320494323676,
          "y": 2.274251073867195
        },
        {
          "x": -0.46181651105789445,
          "y": 0.6806491431367193
        },
        {
          "x": 1.776675797937155,
          "y": -0.9395684077914493
        },
        {
          "x": 1.6268198811677728,
          "y": -1.1209047238133871
        },
        {
          "x": 0.5703810203374369,
          "y": 0.6134406912724324
        },
        {
          "x": -1.561413759315843,
          "y": 1.7174103293073406
        },
        {
          "x": 1.5458202946789252,
          "y": -1.0857719118250184
        },
        {
          "x": 1.7692257532954812,
          "y": -0.17205474774222188
        },
        {
          "x": -1.373090757008458,
          "y": 1.509554937495873
        },
        {
          "x": 1.6921281481845747,
          "y": -0.7549255924263507
        },
        {
          "x": -1.5673997640534112,
          "y": 2.0741319038650268
        },
        {
          "x": -1.6783399382229551,
          "y": 1.3365495912535001
        },
        {
          "x": -0.4383518175010117,
          "y": 0.7229571198290289
        },
        {
          "x": -1.2697633574202856,
          "y": 2.2998712593268467
        },
        {
          "x": 1.2113527030388211,
          "y": -0.9428389120697227
        },
        {
          "x": -0.08196769752624222,
          "y": 0.6477055608759862
        }
      ],
      "test": [
        {
          "x": 0.47172055811018065,
          "y": 0.7614382613307806
        },
        {
          "x": 0.25101276252121485,
          "y": 1.1352417959501033
        },
        {
          "x": 1.7743088904791917,
          "y": -0.3864634083026602
        },
        {
          "x": -0.6513558166489841,
          "y": 0.9965920127182035
        },
        {
          "x": 1.3009296163226969,
          "y": -1.2158659276059964
        },
        {
          "x": -0.48588263082898253,
          "y": 0.5410511041121404
        },
        {
          "x": 1.5289670081043547,
          "y": -1.2618641460846431
        },
        {
          "x": 0.33499268029595,
          "y": 1.054394940377685
        },
        {
          "x": -0.6933454736859774,
          "y": 0.3510454725383251
        },
        {
          "x": 1.8574904889543,
          "y": 0.5601699408190909
        },
        {
          "x": -1.8161593284779531,
          "y": 1.041076581174098
        },
        {
          "x": -1.1679964513021122,
          "y": 1.6279118402435708
        },
        {
          "x": 1.8809002593364483,
          "y": 0.9430883302858557
        },
        {
          "x": -0.14712214934917345,
          "y": 0.528365680368313
        },
        {
          "x": -0.8173963169191762,
          "y": 1.1836924249772247
        },
        {
          "x": -0.07161856979771697,
          "y": 0.9108935369930393
        },
        {
          "x": -1.2566879553230712,
          "y": 1.4748459141650054
        },
        {
          "x": 1.0454485799963145,
          "y": -0.5214171468521359
        },
        {
          "x": 0.2849735504551947,
          "y": 1.0992880983138447
        },
        {
          "x": -0.030708896158772703,
          "y": 0.5093149531320385
        },
        {
          "x": 1.1842889038027073,
          "y": -0.5469894556535495
        },
        {
          "x": 0.6683283143078089,
          "y": 0.838610965606188
        },
        {
          "x": 0.44909333624981196,
          "y": 1.0676394834740048
        },
        {
          "x": -0.8992773197233292,
          "y": 1.4735922185569543
        },
        {
          "x": -0.31171181690586014,
          "y": 0.9327358230774481
        },
        {
          "x": 0.2857643644976937,
          "y": 1.0931112501430384
        },
        {
          "x": -0.6338506156990071,
          "y": 0.9705148731848042
        },
        {
          "x": 1.5132427833361692,
          "y": -1.3145526425562895
        },
        {
          "x": -1.8739846372665419,
          "y": 0.4108021515238418
        },
        {
          "x": -1.7327066235101918,
          "y": 1.2854428876212358
        },
        {
          "x": -0.14411132621495693,
          "y": 0.9197874577669892
        },
        {
          "x": -0.31251181491279656,
          "y": 0.9327320702306516
        },
        {
          "x": -0.8125354047539979,
          "y": 1.1908676336599295
        },
        {
          "x": -1.2513626335989372,
          "y": 1.9220453404976021
        },
        {
          "x": 1.3703507951736142,
          "y": -1.2354373749494376
        },
        {
          "x": -0.06465761430578976,
          "y": 0.9587336464443743
        },
        {
          "x": 0.20049400198520173,
          "y": 1.1454875571677623
        },
        {
          "x": -1.196506772759292,
          "y": 1.3797735248870409
        },
        {
          "x": -1.3325634471225545,
          "y": 2.10833378394486
        },
        {
          "x": 1.4940314053471764,
          "y": -1.6669058874610074
        },
        {
          "x": 0.8729485717530117,
          "y": 0.16729680103083505
        },
        {
          "x": 1.9918794111591098,
          "y": 2.834817210151872
        },
        {
          "x": -1.0892025956634463,
          "y": 1.7996178231074558
        },
        {
          "x": -0.9004259811421389,
          "y": 1.215474381383824
        },
        {
          "x": 1.4597960386343014,
          "y": -1.5086120066354642
        },
        {
          "x": 0.510443703705532,
          "y": 0.6710451356740439
        },
        {
          "x": -0.06320021613332072,
          "y": 1.2380315304955647
        },
        {
          "x": 0.504551102934431,
          "y": 1.1416044085503703
        },
        {
          "x": 0.72743902223087,
          "y": 0.585723303277204
        },
        {
          "x": -1.081872603452123,
          "y": 1.9134007425524016
        }
      ]
    }
  };

  
 // === Hilfsfunktion zum Entpacken ===
function unpackData(data) {
    return {
      x: data.map(p => p.x),
      y: data.map(p => p.y),
    };
  }
  
  // === Plotfunktionen ===
  function drawDataPlotsFromDataset(dataset) {
    const xTrainClean = dataset.clean.train.map(p => p.x);
    const yTrainClean = dataset.clean.train.map(p => p.y);
    const xTestClean = dataset.clean.test.map(p => p.x);
    const yTestClean = dataset.clean.test.map(p => p.y);
  
    const xTrainNoisy = dataset.noisy.train.map(p => p.x);
    const yTrainNoisy = dataset.noisy.train.map(p => p.y);
    const xTestNoisy = dataset.noisy.test.map(p => p.x);
    const yTestNoisy = dataset.noisy.test.map(p => p.y);
  
    const ctxClean = document.getElementById('dataPlotClean').getContext('2d');
    const ctxNoisy = document.getElementById('dataPlotNoisy').getContext('2d');
  
    new Chart(ctxClean, {
      type: 'scatter',
      data: {
        datasets: [
          {
            label: 'Train Clean',
            data: xTrainClean.map((x, i) => ({ x, y: yTrainClean[i] })),
            backgroundColor: 'blue',
          },
          {
            label: 'Test Clean',
            data: xTestClean.map((x, i) => ({ x, y: yTestClean[i] })),
            backgroundColor: 'lightblue',
          },
        ],
      },
      options: {
        plugins: { title: { display: true, text: 'Daten ohne Rauschen' } },
        scales: {
          x: { title: { display: true, text: 'x' } },
          y: { title: { display: true, text: 'y' } },
        },
      },
    });
  
    new Chart(ctxNoisy, {
      type: 'scatter',
      data: {
        datasets: [
          {
            label: 'Train Noisy',
            data: xTrainNoisy.map((x, i) => ({ x, y: yTrainNoisy[i] })),
            backgroundColor: 'red',
          },
          {
            label: 'Test Noisy',
            data: xTestNoisy.map((x, i) => ({ x, y: yTestNoisy[i] })),
            backgroundColor: 'orange',
          },
        ],
      },
      options: {
        plugins: { title: { display: true, text: 'Daten mit Rauschen' } },
        scales: {
          x: { title: { display: true, text: 'x' } },
          y: { title: { display: true, text: 'y' } },
        },
      },
    });
  }
  
  // === Initialisierung ===
  window.addEventListener('DOMContentLoaded', () => {
    drawDataPlotsFromDataset(fixedDataset);
  });
  window.fixedDataset = fixedDataset;
